version: '2'

services:

  akita-ssl:
    extends:
      file: common.yml
      service: akita-ssl
    depends_on:
      - akita-proxyable

  akita-proxyable:
    extends:
      file: common.yml
      service: akita-proxyable
    environment:
      - CAS_URL=https://nedcas-ssl:443

  nedcas-ssl:
    extends:
      file: common.yml
      service: nedcas-ssl
    depends_on:
      - nedcas-proxyable

  nedcas-proxyable:
    extends:
      file: common.yml
      service: nedcas-proxyable

  nedapi:
    extends:
      file: common.yml
      service: nedapi

  neddb:
    extends:
      file: common.yml
      service: neddb
    ports:
      - "3307:3306"

  mailcatcher:
    extends:
      file: common.yml
      service: mailcatcher
